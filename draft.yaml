models:
  User:
    name: string:35
    surname1: string:35
    surname2: string:35
    email: string
    password: string
    fecha_nacimiento: date
    profile_image: string
    nacionalidad: string
    puntos: integer
    relationships:
      hasMany: Comentario, MeGusta, Calificación, Entrada, Favorito
      belongsToMany: Evento, Rol, Logro, Sublogro, Dirección, Obra

  Obra:
    titulo: string
    tipo: enum:Escultura,Mural,Pintura
    fecha_creacion: date
    imagen_principal: string
    latitud: decimal:10:8
    longitud: decimal:11:8
    significado: text
    relationships:
      hasOne: QR, Direccion
      belongsToMany: Autor, Ruta, User
      morphToMany: Favorito
      morphMany: Comentario, Parada, Image, Calificacion
      belongsTo: Estilo

  Estilo:
    nombre: string:35
    relationships:
      hasMany: Obra

  Coment:
    contenido: text
    imagen_principal: url
    relationships:
      morphMany: MeGusta
      belongsTo: User
      morphTo: Comentable

  Favorito:
    relationships:
      morphTo: Favoritable
      belongsTo: User

  Address:
    direccion: string
    ciudad: string
    cp: string:5
    provincia: string
    pais: string
    calle: string
    piso_bloque_edificio: string
    relationships:
      belongsTo: Obra
      belongsToMany: User

  Logro:
    titulo: string
    descripcion: text
    estado: enum:pendiente,en_curso,completado
    tiempo: datetime
    relationships:
      hasMany: SubLogro
      belongsToMany: User

  SubLogro:
    titulo: string
    descripcion: text
    estado: enum:pendiente,en_curso,completado
    tiempo: datetime
    relationships:
      belongsTo: Logro
      belongsToMany: User

  Event:
    titulo: string
    descripcion: text
    max_inscritos: integer
    tipo_usuario: enum:creador,participante
    relationships:
      belongsToMany: Ruta, User
      hasMany: Calificacion

  Ruta:
    nombre: string
    ciudad: string
    distancia: float
    tiempo: time
    estado: enum:pendiente,comenzada,completada
    relationships:
    morphToMany:
      belongsToMany: Obra, Evento
      morphToMany: Favorito
      hasMany: Calificacion, Parada

  Parada:
  relationships:
    belongsTo: Ruta
    morphTo: Paradable

  Patrocinador:
    nombre: string
    codigo_patrocinador: string
    punto_de_interés: string
    relationships:
      morphMany: Parada

  Image:
    url: string
    tipo: enum:EntradaBlog,Obra
    relationships:
      morphTo: Imageable

  Calificacion:
    calificación: enum:1,2,3,4,5
    relationships:
      morphTo: Obra, Evento, Ruta, EntradaBlog

  QR:
    ruta: string
    imagen: string
    relationships:

  EntradaBlog:
    título: string
    contenido: text
    descripción: text
    imagen_principal: string
    relationships:
      morphToMany: Etiqueta, Favorito
      morphMany: Comentario

  Etiqueta:
    nombre: string
    relationships:
      morphToMany: EntradaBlog

  MeGusta:
    tipo: enum:Comentarios,EntradaBlog
    relationships:
      morphTo: Likeable

# --------------------------------------------------------------------------------------
#                               ** SEEDERS **
# --------------------------------------------------------------------------------------

seeders: Usuario, Obra, Comentario, Dirección, Logro, Evento, Ruta, Patrocinador, Imagen, QR, EntradaBlog, Etiqueta, MeGusta

# --------------------------------------------------------------------------------------
#                               ** CONTROLLERS **
# --------------------------------------------------------------------------------------

controllers:
  Api\UserController:
    index:
      query: all
      respond: 200
    store:
      validate: nombre, contraseña, email
      save: Usuario
      respond: 201
    show:
      respond: 200
    update:
      update: Usuario
      respond: 200
    destroy:
      delete: Usuario
      respond: 204
    error:
      respond: 400
