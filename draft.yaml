models:
  Usuario:
    name: string:35
    surname1: string:35
    surname2: string:35
    email: string
    password: string
    fecha_nacimiento: date
    profile_image: string
    nacionalidad: string
    puntos: integer
    relationships:
      hasMany: Comentario, MeGusta, Calificación, Entrada, Favorito
      belongsToMany: Evento, Rol, Logro, Sublogro, Dirección,Obra, Ruta

  Obra:
    titulo: string
    tipo: enum:Escultura,Mural,Pintura
    fecha_creacion: date
    imagen_principal: string
    latitud: decimal:10:8
    longitud: decimal:11:8
    significado: text
    relationships:
      hasOne: QR, Direccion
      belongsToMany: Autor, Ruta, User
      morphToMany: Favorito
      morphMany: Comentario, Parada, Image, Calificacion
      belongsTo: Estilo

  Estilo:
    nombre: string:35
    relationships:
      hasMany: Obra

  Comentario:
    contenido: text
    imagen_principal: url
    relationships:
      morphMany: MeGusta
      belongsTo: User
      morphTo: Comentable

  Direccion:
    direccion: string
    ciudad: string
    cp: string:5
    provincia: string
    pais: string
    calle: string
    piso_bloque_edificio: string
    relationships:
      belongsTo: Obra
      belongsToMany: User

  Logro:
    titulo: string
    descripcion: text
    estado: enum:pendiente,en_curso,completado
    tiempo: datetime
    relationships:
      hasMany: SubLogro
      belongsToMany: User

  SubLogro:
    titulo: string
    descripcion: text
    estado: enum:pendiente,en_curso,completado
    tiempo: datetime
    relationships:
      belongsTo: Logro
      belongsToMany: User

  Evento:
    titulo: string
    descripcion: text
    max_inscritos: integer
    tipo_usuario: enum:creador,participante
    relationships:
      belongsToMany: Ruta, User
      hasMany: Calificacion

  Ruta:
    nombre: string
    ciudad: string
    distancia: float
    tiempo: time
    estado: enum:pendiente,comenzada,completada
    relationships:
    morphToMany:
      belongsToMany: Obra, Evento, User
      morphToMany: Favorito
      hasMany: Calificacion, Parada

  Parada:
    relationships:
      belongsTo: Ruta
      morphTo: Paradable

  Patrocinador:
    nombre: string
    codigo_patrocinador: string
    punto_de_interés: string
    relationships:
      morphMany: Parada

  Imagen:
    url: string
    tipo: enum:EntradaBlog,Obra
    relationships:
      morphTo: Imageable

  Calificacion:
    calificación: enum:1,2,3,4,5
    relationships:
      morphTo: Obra, Evento, Ruta, EntradaBlog

  QR:
    ruta: string
    imagen: string
    relationships:

  EntradaBlog:
    título: string
    contenido: text
    descripción: text
    imagen_principal: string
    relationships:
      morphToMany: Etiqueta, Favorito
      morphMany: Comentario
      belongsToMany: Categoria

  Etiqueta:
    nombre: string
    relationships:
      morphToMany: EntradaBlog

  MeGusta:
    tipo: enum:Comentarios,EntradaBlog
    relationships:
      morphTo: Likeable

  Autor:
    nombre: string:35
    relationships:
      belongsToMany: Obra

  Categoria:
    nombre: string:35
    relationships: belongsToMany:EntradaBlog

  Rol:
    nombre: string:35
    relationships:
      belongsToMany: Permiso

  Permiso:
    nombre: string:35
    relationships:
      belongsToMany: Rol
# --------------------------------------------------------------------------------------
#                               ** SEEDERS **
# --------------------------------------------------------------------------------------

seeders: Usuario, Obra, Comentario, Direccion, Logro, SubLogro, Evento, Ruta, Patrocinador, Parada, Calificacion, Imagen, QR, EntradaBlog, Etiqueta, MeGusta, Autor, Categoria, Rol, Permiso, Estilo

# --------------------------------------------------------------------------------------
#                               ** CONTROLLERS **
# --------------------------------------------------------------------------------------

controllers:
  Api\UserController:
    index:
      query: all
      respond: 200
    store:
      validate: nombre, contraseña, email
      save: Usuario
      respond: 201
    show:
      respond: 200
    update:
      update: Usuario
      respond: 200
    destroy:
      delete: Usuario
      respond: 204
    error:
      respond: 400

  Api\ObraController:
    index:
      query: all
      respond: 200
    store:
      validate: titulo, tipo, fecha_creacion, imagen_principal, latitud, longitud, significado
      save: Obra
      respond: 201
    show:
      respond: 200
    update:
      update: Obra
      respond: 200
    destroy:
      delete: Obra
      respond: 204
    error:
      respond: 400

  Api\EntradaBlogController:
    index:
      query: all
      respond: 200
    store:
      validate: titulo, tipo, fecha_creacion, imagen_principal, latitud, longitud, significado
      save: EntradaBlog
      respond: 201
    show:
      respond: 200
    update:
      update: EntradaBlog
      respond: 200
    destroy:
      delete: EntradaBlog
      respond: 204
    error:
      respond: 400

  Api\EstiloController:
    index:
      query: all
      respond: 200
    store:
      validate: nombre
      save: Estilo
      respond: 201
    show:
      respond: 200
    update:
      update: Estilo
      respond: 200
    destroy:
      delete: Estilo
      respond: 204
    error:
      respond: 400

  Api\ComentarioController:
    index:
      query: all
      respond: 200
    store:
      validate: contenido, imagen_principal
      save: EntradaBlog
      respond: 201
    show:
      respond: 200
    update:
      update: Comentario
      respond: 200
    destroy:
      delete: Comentario
      respond: 204
    error:
      respond: 400

  Api\DireccionController:
    index:
      query: all
      respond: 200
    store:
      validate: direccion, ciudad, cp, provincia, pais, calle, piso_bloque_edificio
      save: EntradaBlog
      respond: 201
    show:
      respond: 200
    update:
      update: Direccion
      respond: 200
    destroy:
      delete: Direccion
      respond: 204
    error:
      respond: 400

  Api\LogroController:
    index:
      query: all
      respond: 200
    store:
      validate: titulo, descripcion, estado, tiempo
      save: Logro
      respond: 201
    show:
      respond: 200
    update:
      update: Logro
      respond: 200
    destroy:
      delete: Logro
      respond: 204
    error:
      respond: 400

  Api\SubLogroController:
    index:
      query: all
      respond: 200
    store:
      validate: titulo, descripcion, estado, tiempo
      save: Logro
      respond: 201
    show:
      respond: 200
    update:
      update: Logro
      respond: 200
    destroy:
      delete: Logro
      respond: 204
    error:
      respond: 400

  Api\EventoController:
    index:
      query: all
      respond: 200
    store:
      validate: titulo, descripcion, max_inscritos, tipo_usuario
      save: Evento
      respond: 201
    show:
      respond: 200
    update:
      update: Evento
      respond: 200
    destroy:
      delete: Evento
      respond: 204
    error:
      respond: 400

  Api\RutaController:
    index:
      query: all
      respond: 200
    store:
      validate: nombre, ciudad, distancia, tiempo, estado
      save: Ruta
      respond: 201
    show:
      respond: 200
    update:
      update: Ruta
      respond: 200
    destroy:
      delete: Ruta
      respond: 204
    error:
      respond: 400

  Api\ParadaController:
    index:
      query: all
      respond: 200
    store:
      save: Parada
      respond: 201
    show:
      respond: 200
    update:
      update: Parada
      respond: 200
    destroy:
      delete: Parada
      respond: 204
    error:
      respond: 400

  Api\PatrocinadorController:
    index:
      query: all
      respond: 200
    store:
      validate: nombre, codigo_patrocinador, punto_de_interés
      save: Patrocinador
      respond: 201
    show:
      respond: 200
    update:
      update: Patrocinador
      respond: 200
    destroy:
      delete: Patrocinador
      respond: 204
    error:
      respond: 400

  Api\ImageController:
    index:
      query: all
      respond: 200
    store:
      validate: url, tipo
      save: Parada
      respond: 201
    show:
      respond: 200
    update:
      update: Parada
      respond: 200
    destroy:
      delete: Parada
      respond: 204
    error:
      respond: 400

  Api\CalificacionController:
    index:
      query: all
      respond: 200
    store:
      validate: calificación
      save: Calificacion
      respond: 201
    show:
      respond: 200
    update:
      update: Calificacion
      respond: 200
    destroy:
      delete: Calificacion
      respond: 204
    error:
      respond: 400

  Api\QRController:
    index:
      query: all
      respond: 200
    store:
      validate: ruta, imagen
      save: Parada
      respond: 201
    show:
      respond: 200
    update:
      update: Parada
      respond: 200
    destroy:
      delete: Parada
      respond: 204
    error:
      respond: 400
